package camera;

import java.io.FileNotFoundException;
import java.util.LinkedList;

import khepera.escenario.Escenario;

import corba.camara.IPYPortD;
import corba.camara.ListaSuscripcionD;
import corba.camara.suscripcionD;
import corba.instantanea.InstantaneaD;
import corba.khepera.escenario.EscenarioD;

/**
 * This class is the implemetation object for your IDL interface.
 *
 * Let the Eclipse complete operations code by choosing 'Add unimplemented methods'.
 */
public class CamaraIntServerImpl extends corba.camara.CamaraIntPOA {
	
	
	private LinkedList<String> listaConsolas = new LinkedList<String>();
	private LinkedList<String> listaRobots = new LinkedList<String>();
	private int numConsolas;
	private int numRobots;
	private Escenario escenario;
	
	IPYPortD ipPort;
	
	/**
	 * Constructor for CamaraIntServerImpl 
	 */
	public CamaraIntServerImpl() {
		try {
			escenario = new Escenario("dibujo");
		} catch (FileNotFoundException e) {
			// TODO Auto-generated catch block
			System.out.println("Couldn't find dibujo file");'
			e.printStackTrace();
		}
	}

	@Override
	public void BajaConsola(String arg0) {
		// Remove the IOR
		listaConsolas.remove(arg0);
	}

	@Override
	public void BajaRobot(String arg0) {
		// Remove the robot ref
		listaRobots.remove(arg0);
	}

	@Override
	public void ModificarEscenario(EscenarioD arg0) {
		// TODO Auto-generated method stub
		
	}

	@Override
	public EscenarioD ObtenerEscenario() {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public IPYPortD ObtenerIPYPortDifusion() {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public InstantaneaD ObtenerInstantanea() {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public ListaSuscripcionD ObtenerLista() {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public suscripcionD SuscribirConsola(String arg0) {
		
		suscripcionD consola;
		
		consola = new suscripcionD(numConsolas,ipPort, escenario);
		numConsolas++;
		
		return null;
	}

	@Override
	public suscripcionD SuscribirRobot(String arg0) {
		// TODO Auto-generated method stub
		return null;
	}
}
